## Context
当前动物管理系统中，User和Employee是两个独立的实体，分别管理普通用户和系统员工。这种分离设计导致代码重复、维护困难，且在实际业务场景中User和Employee的界限可能不明确。

## Goals / Non-Goals
- Goals:
  - 统一用户管理体系，减少代码重复
  - 通过角色字段区分不同类型的用户
  - 保持向后兼容性，确保现有功能不受影响
  - 提高系统的可维护性和扩展性

- Non-Goals:
  - 不改变现有业务逻辑的核心功能
  - 不涉及用户权限系统的全面重构

## Decisions
- Decision: 保留User作为主实体，将Admin(员工)的功能合并到User实体中，通过role字段区分用户类型
  - 将User实体扩展，添加role字段用于区分普通用户和员工
  - 在数据库层面，将admin表的数据迁移到user表，并设置相应的role值
  - 统一服务层接口，提供通用的用户管理方法

- Alternatives considered:
  - 创建新的UserType枚举并保持两个独立实体（复杂度高，未采用）
  - 完全重写用户管理模块（风险大，未采用）

## Risks / Trade-offs
- 数据库迁移风险 → 制定详细的数据迁移计划和回滚方案
- API兼容性 → 保持原有API端点，内部实现统一
- 代码复杂度增加 → 通过良好的抽象和封装控制复杂度

## Migration Plan
1. 扩展User实体和相关DTO，添加role字段
2. 更新数据库表结构，合并admin表到user表
3. 合并服务层和控制器
4. 全面测试确保功能完整性
5. 更新相关文档和注释

## Open Questions
- 如何处理现有admin表中的数据迁移？
- 是否需要在迁移过程中保持向后兼容？