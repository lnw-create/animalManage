# 用户注册功能变更提案

## 变更概述

### 背景
当前系统虽然具备用户添加功能（addUser），但缺乏公开的用户注册接口。现有的用户添加功能仅限于管理员操作，普通用户无法自主注册账户。为了开放用户注册功能，使普通用户能够自主创建账户，需要实现专门的用户注册接口。

### 目标
实现面向普通用户的注册功能，包括：
- 提供公开的用户注册接口
- 实现用户信息验证和去重检查
- 设置默认用户状态为正常（"1"）
- 确保注册过程的安全性

### 影响范围
- user-service模块
- gateway模块（调整全局过滤器）
- 前端需要相应的注册页面和API调用接口

## 技术方案

### 参考实现
参考现有的用户添加功能实现模式：
- Controller层：提供公开的注册API接口
- Service层：业务逻辑处理，包含用户信息验证
- Mapper层：数据库访问
- DTO/VO：数据传输对象

### 实体设计
复用现有的UserDTO和User实体类，确保字段验证符合注册要求。

### 接口设计
提供独立的注册接口，与管理员添加用户接口分离，便于权限控制和功能区分。

## 预期收益
1. 开放用户注册功能，允许普通用户自主创建账户
2. 提供标准化的用户注册接口
3. 支持用户信息的自主维护
4. 便于后续用户自助服务功能扩展

## 风险评估
1. 注册功能暴露可能带来安全风险，需要适当的验证机制
2. 用户名和手机号重复可能导致注册冲突
3. 需要防范恶意批量注册行为
4. 密码安全性和加密存储需要特别注意

## 实施计划
见设计文档和任务清单。